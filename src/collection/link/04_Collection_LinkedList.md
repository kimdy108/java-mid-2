# 4. Collection_LinkedList

- 노드와 연결
    - 배열리스트의 단점
        - 배열의 크기를 미리 확보 → 데이터의 추가 개수를 예측하기 어려운 경우 나머지 공간은 사용되지 않고 낭비됨
        - 배열 중간에 추가될 시 해당 순서의 나머지 부분이 전부 미뤄짐
    - 노드를 사용하면 위 두가지 문제가 해결될 수 있는데 데이터가 추가될 때 생성되고 중간에 데이터를 추가하거나 삭제할 때 효율적
    
    ```java
    public class Node {
    	Object item;
    	Node next
    }
    ```
    
    - 위처럼 노드는 자신의 `item`을 가지고 다음 노드의 참조값을 `next`로 가질 수 있음 → 데이터가 추가될 때 생성
    - 노드의 기능 구현
        - 모든 노드 탐색
            - `for`나 `while`문으로 `next` 가 `null` 일때까지 조회해서 출력
        - 마지막 노드 조회
            - `for`나 `while`문으로 `next` 가 `null` 일때까지 조회해서 마지막 노드만 출력
        - 특정 index의 노드 조회
            - 해당 `index`까지 조회해서 출력
        - 데이터 추가
            - 마지막 노드를 찾은 후 새로운 노드를 `next` 저장
    - 위처럼 노드를 연결 (링크) 하여 만든 리스트를 연결리스트 (LinkedList) 라고 한다.
- 연결리스트
    - 첫번째에 노드 추가, 삭제
        - 노드 추가
            - 노드 생성 → 현 `first`를 생성한 노드의 `next`에 대입 → 생성한 노드를 `first`에 대입
            - 배열의 경우 전부 뒤로 미룬 후 데이터를 입력해야하지만 연결의 경우 새로 생성한 노드의 참조값만 변경하면 됨. → O(1)
        - 노드 삭제
            - 현 `first`를 제일 처음 노드의 `next` 에 대입 → 제일 처음 노드의 `item`과 `next` 를 `null`로 변경 → 전부 `null` 이므로 GC대상
            - 생성과 마찬가지로 제일 처음 노드와 그 이전 노드만 변경하면 됨 → O(1)
    - 중간에 노드 추가, 삭제
        - 노드 추가
            - 노드 생성 → 해당 `index`의 노드를 `for`문으로 조회 → 그 이전 노드의 `next`를 생성한 노드의 `next`에 대입 → 이전 노드의 `next`에 생성한 노드 대입
            - 해당 인덱스의 노드를 찾아야 하므로 O(n)
        - 노드 삭제
            - 해당 노드를 `for`문으로 조회 → 해당 노드의 `next`를 이전 노드의 `next`에 연결 → 해당 노드의 `item`과 `next`를 `null`로 변경 → GC대상
            - 해당 인덱스의 노드를 찾아야 하므로 O(n)
    - 정리
        - 배열 리스트는 인덱스를 통해 추가나 삭제할 위치를 O(1)로 빠르게 찾지만, 추가나 삭제 이후에 데이터를 한 칸씩 밀어야 한다. 이 부분이 O(n)으로 오래 걸린다.
        - 연결 리스트는 인덱스를 통해 추가나 삭제할 위치를 O(n)으로 느리게 찾지만, 찾은 이후에는 일부 노드의 참조값만 변경하면 되므로 이 부분이 O(1)로 빠르다.
        - 앞에 추가하는 경우 : 연결리스트가 참조값만 변경하면 되고 배열리스트는 모든 값을 미뤄야 하므로 연결리스트가 효율적
        - 마지막에 추가하는 경우 : 연결리스트는 마지막까지 순회해야하고 배열리스트는 마지막에 추가만 하면 됨 → 배열리스트가 효율적
        - 즉, 데이터를 조회할 일이 많고, 뒷 부분에 데이터를 추가한다면 배열 리스트가 보통 더 좋은 성능을 제공하고 반대로 앞 쪽에 데이터를 추가하거나 삭제할 일이 많다면 연결 리스트를 사용하는 것이 보통 더 좋은 성능을 제공한다.
    - 참고
        - 위에서 설명한 것들은 단일 연결리스트이다. 자바에서 제공하는 연결리스트는 이중 연결리스트로 `next` 뿐만 아니라 `prev`도 저장을 하고 있어 더 좋은 성능을 제공한다.
        
        ```java
        public class Node {
        	Object item;
        	Node next; // 다음 노드
        	Node prev; // 이전 노드
        }
        ```
        
        - 또한 `LinkedList`에 `first` 뿐만 아니라 `last`도 가지고 있어 맨 뒤에 노드를 추가하더라도 O(1) 로 할 수 있다.
        
        ```java
        public class LinedList {
        	private Node first; // 첫번째 노드 참조
        	private Node last; // 마지막 노드 참조
        	private int side = 0;
        }
        ```