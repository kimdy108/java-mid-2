# 9-1. Map

- Map 이란
    - 키-값의 쌍을 저장하는 자료구조
    - 키는 맵 내에서 유일해야 한다. 그리고 키를 통해 값을 빠르게 검색할 수 있다.
    - 키는 중복될 수 없지만, 값은 중복될 수 있다.
    - 순서를 유지하지 않는다.
- Collection 프레임워크 - Map
    - Map(interface) `공통` → HashMap → LinkedHashMap
    - Map(interface) `공통` → TreeMap
- 주요 기능
    - 키 목록 조회 - `keySet()`
        - `Set<String> keySet = studentMap.keySet()`
        - `Map` 의 키는 중복을 허용하지 않는다. → `Map`의 모든 키 목록을 조회하는 `keySet()` 을 호출하면, 중복을 허용하지 않는 자료 구조인 `Set` 을 반환한다.
    - 키와 값 목록 조회 - `entrySet()`
        - `Map`은 키와 값을 보관하는 자료 구조이다. 따라서 키와 값을 하나로 묶을 수 있는 방법이 필요하다. 이때 `Entry` 를 사용한다.
        - `Entry` 는 키-값의 쌍으로 이루어진 간단한 객체이다. `Entiry` 는 `Map` 내부에서 키와 값을 함께 묶어서 저장할 때 사용한다. → 우리가 `Map` 에 키와 값으로 데이터를 저장하면 `Map` 은 내부에서 키와 값을 하나로 묶는 `Entry` 객체를 만들어서 보관한다. (참고 : `Entry`는 인터페이스이다.)
    - 값 목록 조회 - `values()`
        - `Map` 의 값 목록은 중복을 허용한다. → 즉 중복을 허용하지 않는 `Set`으로 반환할 수 없다.
        - 또한 순서를 보장하지 않는다. → 즉 `List`로도 반환할 수 없다.
        - 따라서 단순히 값의 모음으로 되어있는 상위 인터페이스인 `Collection`으로 반환된다.
    - 키가 없는 경우에만 저장 - `putIfAbsent()`
        - `Map`에 저장할 때 같은 키에 다른 값을 저장하면 나중에 저장한 값으로 변경된다.
        - 이런 경우에는 `if` 절을 사용하여 키 값이 없는 경우이거나 `putIfAbsent()` 를 사용할 수 있다.
            
            ```java
            // if 절 사용
            if (!studentMap.containsKey("studentA")) {
            	studentMap.put("studentA", 100);
            }
            
            // putIfAbsent() 사용
            studentMap.putIfAbsent("studentA", 100);
            ```
            
- Map 구현체
    - 자바의 `Map` 인터페이스는 키-값 쌍을 저장하는 자료 구조이다.
    - `Map` 은 인터페이스이기 때문에, 직접 인스턴스를 생성할 수는 없고, 대신 `Map` 인터페이스를 구현한 여러 클래스를 통해 사용할 수 있다.
        - `HashMap`, `LinkedHashMap`, `TreeMap` 등이 있다.
    - HashMap
        - 구조 : `HashMap` 은 해시를 사용해서 요소를 저장한다. 키(Key) 값은 해시 함수를 통해 해시 코드로 변환되고, 이 해시 코드는 데이터를 저장하고 검색하는 데 사용한다.
        - 특징 : 삽입, 삭제, 검색 작업은 해시 자료 구조를 사용하므로 일반적으로 상수 시간(`O(1)` )의 복잡도를 가진다. → 키 값만 해시 알고리즘을 거치고 `value` 값은 키 값과 동일하게 저장만 한다.
        - 순서 : 순서를 보장하지 않는다.
    - LinkedHashMap
        - 구조 : `LinkedHashMap` 은 `HashMap` 과 유사하지만, 연결 리스트를 사용하여 삽입 순서 또는 최근 접근 순서에 따라 요소를 유지한다.
        - 특징 : 입력 순서에 따라 순회가 가능하다. `HashMap` 과 같지만 입력 순서를 링크로 유지해야 하므로 조금 더 무겁다. → 대부분의 작업은 `O(1)` 의 시간 복잡도를 가진다.
        - 순서 : 입력 순서를 보장한다.
    - TreeMap
        - 구조 : `TreeMap` 은 레드-블랙 트리를 기반으로 한 구현이다.
        - 특징 : 모든 키는 자연 순서 또는 생성자에 제공된 `Comparator` 에 의해 정렬된다. → `get` , `put` , `remove` 와 같은 주요 작업들은 `O(log n)` 의 시간 복잡도를 가진다.
        - 순서 : 키는 정렬된 순서로 저장된다.
- Map 과 Set
    - `Map` 은 키가 중복을 허용하지 않고 순서가 보장되지 않는다. → `Set` 과 동일하다.
    - 실제로 자바 `HashSet` 의 구현은 대부분 `HashMap` 의 구현을 가져다 사용한다. → `Set` 은 `Value`에 더미데이터를 사용한다.