# 7. Collection_HashSet

- Set(셋) 이란 ?
    - 중복을 허용하지 않고 순서를 보장하지 않는 자료구조
- Integer (int) 알고리즘
    - CAPACITY 활용하여 나머지 값을 이용하여 해당 인덱스에 저장. → 해시 충돌 발생이 불가피하므로 해당 인덱스의 데이터들은 리스트로 저장
    - 위와 같은 방식으로 인해 평균 O(n) 이었던 등록, 검색, 삭제 모두 평균 O(1) 로 성능을 더 끌어올림
- 문자열 해시코드
    - 문자열의 문자 하나하나를 아스키코드로 변환 → A는 65, B는 66 …
    - 이때 `“AB”` 와 같은 문자열은 65 + 66 = 131 로 변환한다. → 실제 자바에서 `hashCode()` 메서드는  더 복잡하게 되어있다.
    - 용어 정리
        - 해시 함수
            - 임의의 길이의 데이터를 입력으로 받아, 고정된 길이의 해시값(해시 코드)을 출력하는 함수
            - 같은 데이터를 입력하면 항상 같은 해시 코드가 출력
            - 다른 데이터를 입력해도 같은 해시 코드가 출력될 수 있다. 이것을 해시 충돌이라고 함
        - 해시 코드
            - 데이터를 대표하는 값 → 보통 해시 함수를 통해 만들어짐
        - 해시 인덱스
            - 데이터의 저장 위치를 결정하는데, 주로 해시 코드를 사용해서 만든다.
            - 보통 해시 코드의 결과에 배열의 크기를 나누어 구한다.
        - 요약하면, 해시 코드는 데이터를 대표하는 값, 해시 함수는 이러한 해시 코드를 생성하는 함수, 그리고 해시 인덱스는 해시 코드를 사용해서 데이터의 저장 위치를 결정하는 값을 뜻한다.
- 자바의 해시코드
    - Object.hashCode() : 자바는 모든 객체가 자신만의 해시 코드를 표현할 수 있는 기능을 제공하는데 바로 Object에 있는 `hashCode()` 메서드이다.
        - 이 메서드를 그대로 사용하기 보다는 보통 재정의(오버라이딩)해서 사용
        - 기본 구현은 객체의 참조값을 기반으로 해시 코드를 생성
        - 즉 객체의 인스턴스가 다르면 해시 코드도 다름
    - `Object` 가 기본으로 제공하는 `hashCode()` 는 객체의 참조값을 해시 코드로 사용 → 즉 데이터가 같아도 참조값이 다르면 다른 값을 반환
    - 보통의 자료형 (`Integer`, `String` …) 의 경우 `hashCode()` 메서드를 재정의해서 내부 값 기반으로 반환한다 → `Object`와 다르게 같은 값을 반환한다.
- equals() 사용처
    - 위 해시코드 비교 시 동일성 비교가 아닌 동등성 비교를 해야하는데 이때 `equals`를 재정의 해야한다.
        - 즉 `hashCode()` 메서드를 재정의 후 `equals()` 메서드의 재정의를 통해 동등성 비교를 하면 내부 값이 같다면 `true`를 반환하게 된다.
    - 하나의 인덱스는 해시충돌을 고려하여 `List`로 정의되어있다.
        - 즉, 값이 동일한지 확인하기 위해 `equals()`를 사용해야한다.
- hashCode(), equals() 의 중요성
    - Object 기준
        - `hashCode()` : 객체의 참조값을 기반으로 해시 코드를 반환
        - `equals()` : 동일성 비교 → 객체의 참조값이 동일해야 `true` 반환
    - `hashCode()`를 재정의 하지 않은 경우
        - 이 경우 값이 동일한 두 객체를 비교할 때 참조 값은 다르게 나온다. → 즉 저장 시 중복 저장이 될 수 있다.
    - `equals()`를 재정의 하지 않은 경우
        - 이 경우 객체의 참조값을 비교하므로 데이터의 유무를 검사할 때 `false`를 반환한다.