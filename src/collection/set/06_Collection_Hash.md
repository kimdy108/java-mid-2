# 6. Collection_Hash

- 리스트 VS 세트
    - 리스트
        - 리스트는 요소들의 순차적인 컬렉션이다. 요소들은 특정 순서를 가지며, 같은 요소가 여러 번 나타날 수 있다.
        - 특징
            - 순서 유지 - 리스트에 추가된 요소는 특정한 순서를 유지한다. 이 순서는 요소가 추가된 순서를 반영할 수 있다.
            - 중복 허용 - 리스트는 동일한 값이나 객체의 중복을 허용한다.
            - 인덱스 접근 - 리스트의 각 요소는 인덱스를 통해 접근할 수 있다.
        - 용도 : 순서가 중요하거나 중복된 요소를 허용해야 하는 경우에 주로 사용
    - 세트
        - 세트(셋)는 유일한 요소들의 컬렉션이다.
        - 특징
            - 유일성 - 셋에는 중복된 요소가 존재하지 않는다.
            - 순서 미보장 - 셋 구현에서는 요소들의 순서를 보장하지 않는다.
            - 빠른 검색 - 요소의 유무를 빠르게 확인할 수 있도록 최적화되어 있다.
        - 용도 : 중복을 허용하지 않고, 요소의 유무만 중요한 경우에 사용
- 해시 (Hash)
    - 세트를 구현하면 요소를 더하고 존재하는지 확인하고 삭제하는 간단한 구현이 가능하다
        - 그러나 중복이 되지 않기 때문에 요소를 더하고 삭제할때 존재하는지 확인을 해야함 → 모든 요소를 찾아야 함 → O(n)
    - 해시란?
        - 고정된 크기로 값을 변경하는 함수나 알고리즘 → 배열의 O(n) 을 O(1) 로 끌어올릴 수 있음
    - 해시 - 인덱스 사용 : 위의 문제로 인해 Integer라면 해당 값을 인덱스 값으로 변경하면 된다. → 값이 1이면 인덱스 0 이 아니라 1로 저장, 값이 99 면 실제 인덱스에 99로 저장
        - 그러나 위 방식대로 한다면 실제 값을 1과 99 만 저장한다고 가정했을때 0과 2 부터 98 까지의 메모리 낭비가 된다.
    - 해시 - 나머지 연산 : 위의 문제로 ‘나머지 저장’ 이라는 방식을 사용하면 된다. → 10 으로 나눈 후 나머지 값을 인덱스로 사용 → 값이 1 이면 인덱스도 1, 값이 99 면 인덱스는 10으로 나눈 나머지인 9
        - 배열의 인덱스로 사용할 수 있도록 원래의 값을 계산한 인덱스 → 4의 해시 인덱스는 4, 99의 해시 인덱스는 9
        - 그러나 위 방식대로 한다면 값이 1인 데이터도, 11인 데이터도 1인 인덱스에 저장해야한다. → 값 충돌이 일어남.
    - 해시 충돌 : 위의 문제로 어느정도 충돌을 인정하고 해당 배열에 배열을 저장하는 것이다. → 데이터가 1인 것과 11인 것을 인덱스 1에 리스트인 `[1, 11]` 로 저장
        - 물론 위의 방식대로 한다고 해도 11인 값을 찾으려면 인덱스 1 안에 있는 리스트에 전부 값을 대조해야 한다. → 최악의 경우 O(n)
        - 다만, 대부분 값이 퍼져 있을 것이기 때문에 해시 충돌이 발생하더라도 몇번만 비교하면 됨 → 비교적 매우 빠르게 값을 찾을 수 있음.
    - 해시 인덱스 충돌 확률
        - 통계적으로 입력한 데이터의 수가 배열의 크기를 75% 넘지 않으면 해시 인덱스는 자주 충돌하지 않고 반대로 75%를 넘으면 자주 충돌하기 시작한다.
        - 배열의 크기를 크게 만들면 해시 충돌은 줄어서 성능은 좋아지지만, 많은 메모리가 낭비되고 배열의 크기를 너무 작게 만들면 해시가 자주 충돌해서 성능이 나빠진다. → 보통 75%를 적절한 크기로 잡는다.
        - 해시 인덱스를 사용하는 경우
            - 데이터 저장
                - 평균: O(1)
                - 최악: O(n)
            - 데이터 조회
                - 평균: O(1)
                - 최악: O(n)
        - 해시 인덱스를 사용하는 방식은 사실 최악의 경우는 거의 발생하지 않음, 배열의 크기만 적절하게 잡아주면 대부분 O(1) 의 성능을 보여준다.